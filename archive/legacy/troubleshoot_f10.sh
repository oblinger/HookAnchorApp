#!/bin/bash

echo "ðŸ” Troubleshooting F10 Shortcut"
echo "==============================="

echo "ðŸ§ª Testing AnchorSelector app directly..."
if open '/Applications/AnchorSelector.app'; then
    echo "âœ… AnchorSelector.app launches successfully"
else
    echo "âŒ AnchorSelector.app failed to launch"
fi

echo ""
echo "ðŸ”§ Common F10 Issues on Mac:"
echo "=============================="
echo "1. F10 is used by macOS for Mission Control/ExposÃ©"
echo "2. Function keys may require Fn key (check System Settings > Keyboard)"
echo "3. Some apps capture F10 before system shortcuts"
echo ""

echo "ðŸŽ¯ Alternative Key Combinations to Try:"
echo "========================================"
echo "Instead of F10, try setting up these combinations:"
echo ""
echo "Option A: Cmd+F10"
echo "Option B: Option+F10"  
echo "Option C: Ctrl+F10"
echo "Option D: F9 (less commonly used)"
echo "Option E: Cmd+Space+Space (double tap)"
echo ""

echo "ðŸ“ To change the shortcut:"
echo "=========================="
echo "1. Go to System Settings > Keyboard > Shortcuts > App Shortcuts"
echo "2. Find your 'AnchorSelector' entry"
echo "3. Double-click the shortcut field"
echo "4. Press your new key combination"
echo ""

echo "ðŸ” Check Function Key Settings:"
echo "==============================="
echo "Go to System Settings > Keyboard and check:"
echo "- 'Use F1, F2, etc. keys as standard function keys'"
echo "- If enabled: F10 works directly"
echo "- If disabled: You need Fn+F10"
echo ""

echo "âš¡ Quick Test Commands:"
echo "======================"
echo "Test with different approaches:"
echo ""
echo "1. Test app directly:"
echo "   open '/Applications/AnchorSelector.app'"
echo ""
echo "2. Test launcher script:"
echo "   $PWD/launch_popup.sh"
echo ""
echo "3. Test popup binary:"
echo "   $PWD/target/release/popup"
echo ""

echo "ðŸ”§ Recommended Next Steps:"
echo "=========================="
echo "1. Try Cmd+F10 instead of F10"
echo "2. Or use F9 (usually not taken by system)"
echo "3. Check if Fn key is required for function keys"
echo "4. Consider using a different trigger like Cmd+Option+A"