#!/bin/bash

echo "âš™ï¸ Creating Automator Service (Most Reliable Method)"
echo "===================================================="

echo "This method uses macOS Services, which are specifically designed"
echo "for global shortcuts and always work reliably."
echo ""

echo "ðŸ“ Manual Steps (Takes 2 minutes):"
echo "==================================="
echo ""
echo "1. Open 'Automator' (search in Spotlight)"
echo ""
echo "2. Choose 'Quick Action' (or 'Service' in older macOS)"
echo ""
echo "3. In the workflow area:"
echo "   - Set 'Workflow receives' to 'no input'"
echo "   - Set 'in' to 'any application'"
echo ""
echo "4. From the Actions library (left side):"
echo "   - Search for 'Run Shell Script'"
echo "   - Drag it to the workflow area"
echo ""
echo "5. In the 'Run Shell Script' action:"
echo "   - Shell: /bin/bash"
echo "   - Pass input: to stdin"
echo "   - Replace the default 'cat' with this path:"
echo "     $PWD/launch_popup.sh"
echo ""
echo "6. Save the workflow:"
echo "   - File > Save"
echo "   - Name: 'Launch Anchor Selector'"
echo "   - It will automatically save to ~/Library/Services/"
echo ""
echo "7. Set up the keyboard shortcut:"
echo "   - System Settings > Keyboard > Shortcuts"
echo "   - Click 'Services' in the left sidebar"
echo "   - Scroll down to find 'Launch Anchor Selector'"
echo "   - Click 'Add Shortcut' and press Cmd+F9"
echo ""
echo "âœ… This method is guaranteed to work because Services are"
echo "   specifically designed for global shortcuts!"
echo ""
echo "ðŸ§ª After setup, test by pressing Cmd+F9 anywhere in macOS"